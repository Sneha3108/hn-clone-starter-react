(this["webpackJsonphn-clone-starter"]=this["webpackJsonphn-clone-starter"]||[]).push([[0],{24:function(e,t,n){e.exports=n(56)},34:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),r=n(4),o=n.n(r),c=n(5),i=n(2),p=n(3);var l=n(20);const h=Object(l.a)(e=>e.news||[],e=>e||[]);var u=(e={news:[],pageNo:0,isFetching:!0,error:null,votes:""},{type:t,newsData:n,error:a,pageNo:s,id:r})=>{const o=h(e);switch(t){case"HN/APP/FETCH_HACKER_NEWS":return Object(p.a)({},e,{isFetching:!0,error:null});case"HN/APP/FETCH_HACKER_NEWS_SUCCESS":return Object(p.a)({},e,{news:o.concat(n),isFetching:!1,pageNo:s+1});case"HN/APP/FETCH_HACKER_NEWS_ERROR":return Object(p.a)({},e,{error:a,isFetching:!1});case"HN/APP/UPDATE_HACKER_NEWS_VOTES":const t=o.slice(0).map(e=>Object.assign({},e));return t[r].points+=1,Object(p.a)({},e,{news:t});default:return e}};var m=Object(i.c)({app:u}),E=n(21);n(22);const d=[];d.push(E.a);var N=Object(i.d)(Object(i.a)(...d),e=>e);var g=e=>Object(i.e)(m,e,N),w=(n(34),n(23)),_=n.n(w);const H=Object({NODE_ENV:"production",PUBLIC_URL:"/hn-clone-starter-react",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).URL||"http://localhost:3000/",v={"Content-Type":"application/json",Accept:"application/json"};const C=new class{constructor({baseURL:e=H,timeout:t=2e4,headers:n=v,auth:a}){const s=_.a.create({baseURL:e,timeout:t,headers:n,auth:a});s.interceptors.response.use(this.handleSuccess,this.handleError),this.client=s}handleSuccess(e){return e}handleError(e){return Promise.reject(e)}get(e){return this.client.get(e).then(e=>e.data)}post(e,t){return this.client.post(e,t).then(e=>e.data)}put(e,t){return this.client.put(e,t).then(e=>e.data)}patch(e,t){return this.client.patch(e,t).then(e=>e.data)}delete(e){return this.client.delete(e).then(e=>e.data)}}({baseURL:"https://hn.algolia.com/api"}),b={getTopNewsIds:e=>C.get("/v1/search".concat("?page=").concat(e))};var P=b;n(52);class A extends s.a.Component{constructor(e){super(e),this.getHostname=e=>{let t="";if(e)return e.includes("www.")&&(t=e.split("www.")[1].split("/")[0]),t},this.incrementUpvote=()=>{this.props.updateVotesAction(this.props.index)},this.getHostname=this.getHostname.bind(this),this.incrementUpvote=this.incrementUpvote.bind(this)}render(){const e=this.props.item,t=e.num_comments,n=e.points,a=e.title,r=e.url,o=e.author,c=e.created_at,i=this.getHostname(r)||"news.ycombinator.com";return s.a.createElement("li",{className:"ListItem"},s.a.createElement("a",null,s.a.createElement("a",{className:"Comments"}," ",t),s.a.createElement("button",{onClick:this.incrementUpvote},s.a.createElement("span",{className:"UpVotes"}," ",n)),s.a.createElement("span",{className:"Title"},a),s.a.createElement("span",{className:"LinkDomain"},"(",i,")"),s.a.createElement("span",{className:"author"},"by ",o),s.a.createElement("span",{className:"created"},c),s.a.createElement("button",null,"hide")))}}var S=A;n(53);class O extends a.Component{constructor(e){super(e),this.fetchMoreNews=this.fetchMoreNews.bind(this)}fetchMoreNews(){const e=this.props,t=e.pageNo,n=e.isFetching,a=e.fetchNewsForFirstPage;n||a(t)}render(){const e=this.props,t=e.news,n=e.updateVotesAction;return s.a.createElement("ul",{className:"ListWrapper"},t.map((e,t)=>s.a.createElement(S,{key:t,index:t,item:e,updateVotesAction:n})),s.a.createElement("button",{onClick:this.fetchMoreNews}," More "))}}var F=O;n(54);class R extends a.Component{componentDidMount(){const e=this.props,t=e.pageNo;(0,e.fetchNewsForFirstPage)(t)}render(){const e=this.props,t=e.error,n=e.isFetching;return t?s.a.createElement("div",null,"Error: ",t.message):n?s.a.createElement("div",null,"Loading..."):s.a.createElement("div",{className:"HackerNewsWrapper"},s.a.createElement("h1",null,"Hacker News"),s.a.createElement(F,this.props))}}R.defaultProps={pageNo:0};var T=R;var f=Object(c.b)(e=>({news:e.app.news,isFetching:e.app.isFetching,error:e.app.error,pageNo:e.app.pageNo}),e=>({fetchNewsForFirstPage:t=>e((e=>t=>(t((e=>({type:"HN/APP/FETCH_HACKER_NEWS",pageNo:e}))(e)),P.getTopNewsIds(e).then(e=>{const n=e.hits,a=e.page;return t(((e,t)=>({type:"HN/APP/FETCH_HACKER_NEWS_SUCCESS",newsData:e,pageNo:t}))(n,a)),n}).catch(e=>t({type:"HN/APP/FETCH_HACKER_NEWS_ERROR",error:e}))))(t)),updateVotesAction:t=>e((e=>({type:"HN/APP/UPDATE_HACKER_NEWS_VOTES",id:e}))(t))}))(T);n(55);var j=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));(()=>{const e=g({});o.a.render(s.a.createElement(c.a,{store:e},s.a.createElement(j,null)),document.getElementById("root"))})(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.fcc6a9bd.chunk.js.map